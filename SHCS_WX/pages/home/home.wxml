<!-- pages/home/home.wxml -->
<view class="page">

  <!-- pages/home/home.wxml -->
  <navigation-bar 
    title="智能居家护理系统" 
    background="#4CAF50" 
    color="#ffffff"
  />
  <view class="container">
    <!-- 天气小组件区域 -->
    <view class="weather-widget">
      <view class="weather-info">
        <view class="temp-wrap">
          <text class="temperature">{{weather.temp}}°</text>
          <text class="weather-text">{{weather.text}}</text>
        </view>
        <view class="location-wrap">
          <text class="location">{{weather.location}}</text>
          <text class="date">{{weather.date}}</text>
        </view>
      </view>
    </view>

    <!-- 设备快捷入口区域 -->
    <view class="devices-grid">
      <!-- 摄像头设备 -->
      <view class="device-card" wx:for="{{cameras}}" wx:key="device_id" 
            bindtap="navigateToDevice" data-id="{{item.device_id}}" data-type="camera">
        <view class="device-icon">
          <image src="/assets/icon/camera.png" mode="aspectFit"/>
        </view>
        <view class="device-info">
          <text class="device-name">{{item.device_name}}</text>
          <text class="device-status {{item.status === 'online' ? 'online' : ''}}">
            {{item.status === 'online' ? '在线' : '离线'}}
          </text>
        </view>
      </view>

      <!-- 体重计 -->
      <view class="device-card" wx:for="{{weightScales}}" wx:key="device_id"
            bindtap="navigateToDevice" data-id="{{item.device_id}}" data-type="weight_scale">
        <view class="device-icon">
          <image src="/assets/icon/weight_scale.png" mode="aspectFit"/>
        </view>
        <view class="device-info">
          <text class="device-name">{{item.device_name}}</text>
          <text class="device-status {{item.status === 'online' ? 'online' : ''}}">
            {{item.status === 'online' ? '在线' : '离线'}}
          </text>
        </view>
      </view>

      <!-- 血压计 -->
      <view class="device-card" wx:for="{{bloodPressures}}" wx:key="device_id"
            bindtap="navigateToDevice" data-id="{{item.device_id}}" data-type="blood_pressure">
        <view class="device-icon">
          <image src="/assets/icon/blood_pressure.png" mode="aspectFit"/>
        </view>
        <view class="device-info">
          <text class="device-name">{{item.device_name}}</text>
          <text class="device-status {{item.status === 'online' ? 'online' : ''}}">
            {{item.status === 'online' ? '在线' : '离线'}}
          </text>
        </view>
      </view>

      <!-- 添加设备卡片 -->
      <view class="device-card add-card" bindtap="navigateToDeviceManage">
        <view class="device-icon">
          <image src="/assets/icon/list.png" mode="aspectFit"/>
        </view>
        <view class="device-info">
          <text class="device-name">设备列表</text>
        </view>
      </view>
    </view>
  </view>
</view>