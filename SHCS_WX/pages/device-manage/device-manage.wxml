<!--pages/device-manage/device-manage.wxml-->
<navigation-bar 
  title="设备管理" 
  background="#4CAF50" 
  color="#ffffff"
  back="{{true}}"
/>

<view class="container">
  <!-- 设备列表 -->
  <view class="device-list">
    <block wx:for="{{devices}}" wx:key="device_id">
      <view class="device-item">
        <view class="device-info">
          <view class="device-header">
            <text class="device-name">{{item.device_name}}</text>
            <text class="device-status {{item.status === 'online' ? 'online' : ''}}">
              <text class="status-dot"></text>
              {{item.status === 'online' ? '' : '离线'}}
            </text>
          </view>
          <view class="device-location">{{item.location || '未设置位置'}}</view>
          <view class="device-ip">{{item.ip_address}}</view>
        </view>
        <view class="device-actions">
          <button class="action-btn edit" bindtap="handleDeviceDetail" data-id="{{item.device_id}}">编辑</button>
          <button class="action-btn delete" bindtap="handleDeleteDevice" data-id="{{item.device_id}}">删除</button>
        </view>
      </view>
    </block>
  </view>

  <!-- 添加设备按钮 -->
  <view class="add-button" bindtap="handleAddDevice">
    <text class="add-icon">+</text>
    <text>添加设备</text>
  </view>
</view>