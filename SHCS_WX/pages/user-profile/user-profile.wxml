<navigation-bar 
  title="个人信息" 
  background="#4CAF50" 
  color="#ffffff"
  back="{{true}}"
/>

<view class="container">
  <!-- 头像区域 -->
  <view class="avatar-section">
    <image class="avatar" src="{{userInfo.avatar || '/assets/images/default-avatar.png'}}" mode="aspectFill"/>
    <view class="upload-btn" bindtap="chooseAvatar">更换头像</view>
  </view>

  <!-- 基本信息区域 -->
  <view class="info-section">
    <view class="info-item">
      <text class="label">姓名</text>
      <text class="value">{{userInfo.name || '未设置'}}</text>
      <image class="edit-icon" src="/assets/images/edit.png" bindtap="editName"/>
    </view>

    <view class="info-item">
      <text class="label">手机号</text>
      <text class="value">{{userInfo.phone || '未绑定'}}</text>
      <image class="edit-icon" src="/assets/images/edit.png" bindtap="editPhone"/>
    </view>

    <view class="info-item">
      <text class="label">所属家庭</text>
      <text class="value">{{userInfo.family || '未加入'}}</text>
      <image class="edit-icon" src="/assets/images/edit.png" bindtap="editFamily"/>
    </view>
  </view>

  <!-- 设备信息区域 -->
  <view class="device-section">
    <view class="section-title">我的设备</view>
    <view class="device-list">
      <view class="device-item" wx:for="{{devices}}" wx:key="id">
        <image class="device-icon" src="{{item.icon}}" mode="aspectFit"/>
        <view class="device-info">
          <text class="device-name">{{item.name}}</text>
          <text class="device-status {{item.status === 'online' ? 'online' : ''}}">
            {{item.status === 'online' ? '在线' : '离线'}}
          </text>
        </view>
      </view>
    </view>
  </view>
</view> 