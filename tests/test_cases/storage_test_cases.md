# 缓存管理测试用例

## 1. 用户信息缓存测试

### TC-S001: 用户信息存取
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 调用 `storage.setUserInfo()` 存储用户信息
  2. 调用 `storage.getUserInfo()` 获取用户信息
- **预期结果**：
  - 成功存储用户信息
  - 获取的信息与存储的信息一致
- **实际结果**：
  - [ ] 待测试

### TC-S002: Token 存取
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 调用 `storage.setToken()` 存储 token
  2. 调用 `storage.getToken()` 获取 token
- **预期结果**：
  - 成功存储 token
  - 获取的 token 与存储的一致
- **实际结果**：
  - [ ] 待测试

## 2. 设备信息缓存测试

### TC-S003: 设备列表存取
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 调用 `storage.setDeviceList()` 存储设备列表
  2. 调用 `storage.getDeviceList()` 获取设备列表
- **预期结果**：
  - 成功存储设备列表
  - 获取的列表与存储的一致
  - 首次获取空列表时返回空数组而不是 null
- **实际结果**：
  - [ ] 待测试

### TC-S004: 当前设备存取
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 调用 `storage.setCurrentDevice()` 存储当前设备
  2. 调用 `storage.getCurrentDevice()` 获取当前设备
- **预期结果**：
  - 成功存储当前设备信息
  - 获取的设备信息与存储的一致
- **实际结果**：
  - [ ] 待测试

## 3. 登录状态管理测试

### TC-S005: 登录状态检查
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 未登录状态下调用 `storage.isLoggedIn()`
  2. 设置 token 后调用 `storage.isLoggedIn()`
  3. 清除 token 后调用 `storage.isLoggedIn()`
- **预期结果**：
  - 未登录状态返回 false
  - 设置 token 后返回 true
  - 清除 token 后返回 false
- **实际结果**：
  - [ ] 待测试

### TC-S006: 缓存清理
- **前置条件**：
  - 已存储用户信息、token 和设备信息
- **测试步骤**：
  1. 调用 `storage.clear()`
  2. 尝试获取所有存储的信息
- **预期结果**：
  - 所有缓存被清除
  - 获取任何信息都返回 null 或默认值
- **实际结果**：
  - [ ] 待测试

## 4. 异常处理测试

### TC-S007: 无效数据处理
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 尝试存储 undefined 值
  2. 尝试存储 null 值
  3. 尝试存储非预期类型的值
- **预期结果**：
  - 正确处理异常情况
  - 不会导致应用崩溃
  - 返回合理的默认值
- **实际结果**：
  - [ ] 待测试

### TC-S008: 存储限制测试
- **前置条件**：
  - 应用已初始化
- **测试步骤**：
  1. 尝试存储超大对象
  2. 尝试频繁存取操作
- **预期结果**：
  - 正确处理存储限制异常
  - 不会影响应用其他功能
  - 给出适当的错误提示
- **实际结果**：
  - [ ] 待测试 