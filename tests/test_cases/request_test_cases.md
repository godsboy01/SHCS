# 网络请求测试用例

## 1. 基础请求测试

### TC-R001: GET 请求测试
- **前置条件**：
  - 服务器正常运行
  - 网络连接正常
- **测试步骤**：
  1. 调用 `http.get()` 发起请求
  2. 检查响应数据
- **预期结果**：
  - 请求成功发送
  - 正确接收响应数据
  - 数据格式符合预期
- **实际结果**：
  - [ ] 待测试

### TC-R002: POST 请求测试
- **前置条件**：
  - 服务器正常运行
  - 网络连接正常
- **测试步骤**：
  1. 调用 `http.post()` 发起请求
  2. 检查请求体数据
  3. 检查响应数据
- **预期结果**：
  - 请求成功发送
  - 请求体数据正确
  - 正确接收响应数据
- **实际结果**：
  - [ ] 待测试

## 2. 请求拦截器测试

### TC-R003: Token 注入测试
- **前置条件**：
  - 用户已登录
  - 存在有效 token
- **测试步骤**：
  1. 发起任意请求
  2. 检查请求头
- **预期结果**：
  - 请求头中包含 Authorization 字段
  - Authorization 值格式正确
  - token 值正确
- **实际结果**：
  - [ ] 待测试

### TC-R004: 未登录请求测试
- **前置条件**：
  - 用户未登录
  - 无 token
- **测试步骤**：
  1. 发起需要认证的请求
- **预期结果**：
  - 请求头中不包含 Authorization 字段
  - 服务器返回 401 错误
  - 自动跳转到登录页
- **实际结果**：
  - [ ] 待测试

## 3. 响应拦截器测试

### TC-R005: 401 响应处理
- **前置条件**：
  - 用户已登录
  - token 已过期
- **测试步骤**：
  1. 发起需要认证的请求
  2. 服务器返回 401 响应
- **预期结果**：
  - 清除本地 token
  - 清除用户信息
  - 自动跳转到登录页
- **实际结果**：
  - [ ] 待测试

### TC-R006: 错误响应处理
- **前置条件**：
  - 网络连接正常
- **测试步骤**：
  1. 发起会导致错误的请求
  2. 检查错误处理
- **预期结果**：
  - 正确捕获错误
  - 返回友好的错误信息
  - 不会导致应用崩溃
- **实际结果**：
  - [ ] 待测试

## 4. 网络状态测试

### TC-R007: 断网处理
- **前置条件**：
  - 初始网络连接正常
- **测试步骤**：
  1. 断开网络连接
  2. 发起请求
- **预期结果**：
  - 请求失败被捕获
  - 显示网络错误提示
  - 不会导致应用崩溃
- **实际结果**：
  - [ ] 待测试

### TC-R008: 请求超时处理
- **前置条件**：
  - 网络连接不稳定
- **测试步骤**：
  1. 发起请求并等待超时
- **预期结果**：
  - 超时后请求被取消
  - 显示超时错误提示
  - 可以重新发起请求
- **实际结果**：
  - [ ] 待测试

## 5. 并发请求测试

### TC-R009: 多个并发请求
- **前置条件**：
  - 网络连接正常
- **测试步骤**：
  1. 同时发起多个请求
  2. 检查所有请求的响应
- **预期结果**：
  - 所有请求都能正常完成
  - 响应数据正确
  - 不会相互影响
- **实际结果**：
  - [ ] 待测试

### TC-R010: 请求取消测试
- **前置条件**：
  - 网络连接正常
- **测试步骤**：
  1. 发起长时间请求
  2. 在请求完成前取消
- **预期结果**：
  - 请求被成功取消
  - 不会继续处理响应
  - 状态正确重置
- **实际结果**：
  - [ ] 待测试 